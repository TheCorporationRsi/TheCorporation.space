<div style="width: 100% !important">
    <h1 style="text-align: center; padding-bottom: 20px;">Influence / Weight chart</h1>
    <div style="position:relative; width: 100%; height: 100%;" ><canvas id="weightgraph" style="max-width: 100%;"></canvas></div>
    
</div>
<script>
    Chart.defaults.color = "#fff";
    var ctx = document.getElementById('weightgraph');
    var myChart = new Chart(ctx, {

        type: 'doughnut',
        data: {
            labels: [

            {% for division in division_list %}

            '{{division.title}}',
            
            {% endfor %}
        ],
    datasets: [{

        label: 'Division influence',
        data: [
            {% for division in division_list %}
        {{ current_user.div_influence(division) | round }},
    {% endfor %}
    ],
        backgroundColor: [
            {% for division in division_list %}
    '{{ division.color() }}',
        {% endfor %}
],
    hoverOffset: 10,
        borderColor: '#363636'

}, {

        label: 'Division Weight',
            data: [
                {% for division in division_list %}
    {{ current_user.div_weight(division) }},
    {% endfor %}
        ],
    backgroundColor: [
        {% for division in division_list %}
    '{{ division.color() }}',
        {% endfor %}
    ],
    hoverOffset: 10,
        borderColor: '#363636'

}

]
},
options: {
    responsive: true,
    maintainAspectRatio: false,
    plugins: {
        legend: {
            display: false,
        }
    }
}

});

</script>